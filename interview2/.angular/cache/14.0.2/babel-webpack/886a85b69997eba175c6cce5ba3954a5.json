{"ast":null,"code":"import { UntypedFormControl } from '@angular/forms';\nimport { MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport { ReplaySubject, Subject } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/material/dialog\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/material/button\";\nimport * as i5 from \"@angular/material/form-field\";\nimport * as i6 from \"@angular/material/select\";\nimport * as i7 from \"@angular/material/core\";\nimport * as i8 from \"ngx-mat-select-search\";\nconst _c0 = [\"singleSelect\"];\n\nfunction GeneralPopUpComponent_mat_option_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-option\", 16);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const bank_r2 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", bank_r2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", bank_r2, \" \");\n  }\n}\n\nexport class GeneralPopUpComponent {\n  constructor(dialogRef, data, fb) {\n    this.dialogRef = dialogRef;\n    this.data = data;\n    this.fb = fb;\n    this.currentValue = '';\n    this.previousValue = '';\n    /** control for the selected bank */\n\n    this.bankCtrl = new UntypedFormControl();\n    /** control for the MatSelect filter keyword */\n\n    this.bankFilterCtrl = new UntypedFormControl();\n    /** list of banks filtered by search keyword */\n\n    this.filteredBanks = new ReplaySubject(1);\n    /** Subject that emits when the component has been destroyed. */\n\n    this._onDestroy = new Subject();\n    this.oppoSuitsForm = this.fb.group({\n      name: ['']\n    });\n  }\n\n  ngOnInit() {\n    this.previousValue = this.currentValue; // set initial selection\n\n    this.bankCtrl.setValue(this.currentValue); // load the initial bank list\n\n    this.filteredBanks.next(this.data.listOfValues.slice()); // listen for search field value changes\n\n    this.bankFilterCtrl.valueChanges.pipe().subscribe(() => {\n      this.filterBanks();\n    });\n  }\n\n  onNoClick() {\n    this.dialogRef.close(this.previousValue);\n  }\n\n  onOkClick() {\n    this.dialogRef.close(this.currentValue);\n  }\n\n  filterBanks() {\n    if (!this.data.listOfValues) {\n      return;\n    } // get the search keyword\n\n\n    let search = this.bankFilterCtrl.value;\n\n    if (!search) {\n      this.filteredBanks.next(this.data.listOfValues.slice());\n      return;\n    } else {\n      search = search.toLowerCase();\n    } // filter the banks\n\n\n    this.filteredBanks.next(this.data.listOfValues.filter(test => test.name.toLowerCase().indexOf(search) > -1));\n  }\n\n}\n\nGeneralPopUpComponent.ɵfac = function GeneralPopUpComponent_Factory(t) {\n  return new (t || GeneralPopUpComponent)(i0.ɵɵdirectiveInject(i1.MatDialogRef), i0.ɵɵdirectiveInject(MAT_DIALOG_DATA), i0.ɵɵdirectiveInject(i2.FormBuilder));\n};\n\nGeneralPopUpComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: GeneralPopUpComponent,\n  selectors: [[\"app-general-pop-up\"]],\n  viewQuery: function GeneralPopUpComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c0, 7);\n    }\n\n    if (rf & 2) {\n      let _t;\n\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.singleSelect = _t.first);\n    }\n  },\n  inputs: {\n    currentValue: \"currentValue\"\n  },\n  decls: 28,\n  vars: 23,\n  consts: [[1, \"dialog\"], [1, \"dialog__header\"], [1, \"dialog__column\"], [\"mat-dialog-title\", \"\", 1, \"dialog__main-header\"], [1, \"dialog__sub-header\"], [1, \"dialog__icon\", \"dialog__column\", 3, \"click\"], [\"mat-dialog-content\", \"\", 1, \"dialog__content\"], [1, \"dialog__control-label\"], [1, \"dialog__dropdown\", 3, \"formGroup\"], [1, \"dialog__dropdown-select\"], [3, \"formControl\"], [\"singleSelect\", \"\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"mat-dialog-actions\", \"\", 1, \"dialog__footer\"], [\"mat-button\", \"\", 1, \"dialog__button\", \"dialog__left-button\", 3, \"click\"], [\"mat-button\", \"\", \"cdkFocusInitial\", \"\", 1, \"dialog__button\", \"dialog__right-button\", 3, \"disabled\", \"click\"], [3, \"value\"]],\n  template: function GeneralPopUpComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3);\n      i0.ɵɵtext(4);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"div\", 4);\n      i0.ɵɵtext(6);\n      i0.ɵɵpipe(7, \"date\");\n      i0.ɵɵpipe(8, \"date\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(9, \"a\", 5);\n      i0.ɵɵlistener(\"click\", function GeneralPopUpComponent_Template_a_click_9_listener() {\n        return ctx.onNoClick();\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(10, \"div\", 6)(11, \"div\", 7);\n      i0.ɵɵtext(12);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"form\", 8)(14, \"mat-form-field\", 9)(15, \"mat-select\", 10, 11)(17, \"mat-option\");\n      i0.ɵɵelement(18, \"ngx-mat-select-search\", 10);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(19, GeneralPopUpComponent_mat_option_19_Template, 2, 2, \"mat-option\", 12);\n      i0.ɵɵpipe(20, \"async\");\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelementStart(21, \"div\", 13)(22, \"button\", 14);\n      i0.ɵɵlistener(\"click\", function GeneralPopUpComponent_Template_button_click_22_listener() {\n        return ctx.onNoClick();\n      });\n      i0.ɵɵtext(23);\n      i0.ɵɵpipe(24, \"uppercase\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(25, \"button\", 15);\n      i0.ɵɵlistener(\"click\", function GeneralPopUpComponent_Template_button_click_25_listener() {\n        return ctx.onOkClick();\n      });\n      i0.ɵɵtext(26);\n      i0.ɵɵpipe(27, \"uppercase\");\n      i0.ɵɵelementEnd()()();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(4);\n      i0.ɵɵtextInterpolate(ctx.data.mainHeader);\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate2(\"\", i0.ɵɵpipeBind2(7, 11, ctx.data.dateTimeHeader, \"dd/MM/yy\"), \"-\", i0.ɵɵpipeBind2(8, 14, ctx.data.dateTimeHeader, \"hh:mm\"), \"\");\n      i0.ɵɵadvance(6);\n      i0.ɵɵtextInterpolate1(\" \", ctx.data.controlLabel, \" \");\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"formGroup\", ctx.oppoSuitsForm);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"formControl\", ctx.bankCtrl);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"formControl\", ctx.bankFilterCtrl);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(20, 17, ctx.filteredBanks));\n      i0.ɵɵadvance(4);\n      i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(24, 19, ctx.data.rejectButtonText));\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"disabled\", ctx.currentValue === ctx.previousValue);\n      i0.ɵɵadvance(1);\n      i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(27, 21, ctx.data.acceptButtonText));\n    }\n  },\n  dependencies: [i3.NgForOf, i1.MatDialogTitle, i1.MatDialogContent, i1.MatDialogActions, i4.MatButton, i2.ɵNgNoValidate, i2.NgControlStatus, i2.NgControlStatusGroup, i2.FormControlDirective, i2.FormGroupDirective, i5.MatFormField, i6.MatSelect, i7.MatOption, i8.MatSelectSearchComponent, i3.AsyncPipe, i3.UpperCasePipe, i3.DatePipe],\n  styles: [\".dialog[_ngcontent-%COMP%] {\\n  background-color: #f0f0f0;\\n  width: 359px;\\n  height: 230px;\\n  overflow: hidden;\\n}\\n\\n.dialog__header[_ngcontent-%COMP%] {\\n  height: 61px;\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: center;\\n}\\n\\n.dialog__main-header[_ngcontent-%COMP%] {\\n  font-family: sspro;\\n  font-weight: bold;\\n  font-size: 21px;\\n  color: #000000;\\n  padding-left: 75px;\\n  padding-top: 14px;\\n  margin: 0;\\n  height: -moz-fit-content;\\n  height: fit-content;\\n  line-height: 14px;\\n}\\n\\n.dialog__sub-header[_ngcontent-%COMP%] {\\n  font-family: sspro;\\n  font-weight: bold;\\n  font-size: 12px;\\n  color: #000000;\\n  padding-left: 75px;\\n  padding-top: 5px;\\n}\\n\\n.dialog__icon[_ngcontent-%COMP%] {\\n  background: url('icon_close.png') no-repeat left center;\\n  padding-right: 27px;\\n  height: 40px;\\n  width: 40px;\\n  transform: scale(0.5);\\n}\\n\\n.dialog__content[_ngcontent-%COMP%] {\\n  background-color: #ffffff;\\n  padding: 0;\\n  margin: 0px 0px 0px 4px;\\n  width: 351px;\\n  height: 108px;\\n}\\n\\n.dialog__control-label[_ngcontent-%COMP%] {\\n  font-family: sspro;\\n  font-size: 12px;\\n  padding-left: 25px;\\n  padding-top: 23px;\\n  padding-bottom: 5px;\\n}\\n\\n.dialog__dropdown[_ngcontent-%COMP%] {\\n  padding-left: 25px;\\n  padding-right: 25px;\\n}\\n\\n.dialog__dropdown-select[_ngcontent-%COMP%] {\\n  width: 100%;\\n}\\n\\n.dialog__button[_ngcontent-%COMP%] {\\n  padding-top: 11px;\\n  border: solid;\\n  border-color: #18abf4;\\n  width: 122px;\\n  height: 40px;\\n  font-family: sspro;\\n  font-size: 14px;\\n  font-weight: bold;\\n}\\n\\n.dialog__left-button[_ngcontent-%COMP%] {\\n  margin-left: 49px;\\n  padding: 0;\\n  background-color: #ffffff;\\n  text-align: center;\\n  vertical-align: baseline;\\n  color: #18abf4;\\n}\\n\\n.dialog__right-button[_ngcontent-%COMP%] {\\n  padding: 0;\\n  margin-left: 2px;\\n  background-color: #52c0f7;\\n  color: #ffffff;\\n}\\n\\n.dialog__footer[_ngcontent-%COMP%] {\\n  min-height: 61px;\\n  padding: 0;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImdlbmVyYWwtcG9wLXVwLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0kseUJBQUE7RUFDQSxZQUFBO0VBQ0EsYUFBQTtFQUNBLGdCQUFBO0FBQ0o7O0FBQ0E7RUFDSSxZQUFBO0VBQ0EsYUFBQTtFQUNBLDhCQUFBO0VBQ0EsbUJBQUE7QUFFSjs7QUFDQTtFQUNJLGtCQUFBO0VBQ0EsaUJBQUE7RUFDQSxlQUFBO0VBQ0EsY0FBQTtFQUNBLGtCQUFBO0VBQ0EsaUJBQUE7RUFDQSxTQUFBO0VBQ0Esd0JBQUE7RUFBQSxtQkFBQTtFQUNBLGlCQUFBO0FBRUo7O0FBQUE7RUFDSSxrQkFBQTtFQUNBLGlCQUFBO0VBQ0EsZUFBQTtFQUNBLGNBQUE7RUFDQSxrQkFBQTtFQUNBLGdCQUFBO0FBR0o7O0FBREE7RUFDSSx1REFBQTtFQUNBLG1CQUFBO0VBQ0EsWUFBQTtFQUNBLFdBQUE7RUFDQSxxQkFBQTtBQUlKOztBQURBO0VBQ0kseUJBQUE7RUFDQSxVQUFBO0VBQ0EsdUJBQUE7RUFDQSxZQUFBO0VBQ0EsYUFBQTtBQUlKOztBQUZBO0VBQ0ksa0JBQUE7RUFDQSxlQUFBO0VBQ0Esa0JBQUE7RUFDQSxpQkFBQTtFQUNBLG1CQUFBO0FBS0o7O0FBRUE7RUFDSSxrQkFBQTtFQUNBLG1CQUFBO0FBQ0o7O0FBQ0E7RUFDSSxXQUFBO0FBRUo7O0FBTUE7RUFDSSxpQkFBQTtFQUNBLGFBQUE7RUFDQSxxQkFBQTtFQUNBLFlBQUE7RUFDQSxZQUFBO0VBQ0Esa0JBQUE7RUFDQSxlQUFBO0VBQ0EsaUJBQUE7QUFISjs7QUFNQTtFQUNJLGlCQUFBO0VBQ0EsVUFBQTtFQUNBLHlCQUFBO0VBQ0Esa0JBQUE7RUFDQSx3QkFBQTtFQUNBLGNBQUE7QUFISjs7QUFNQTtFQUNJLFVBQUE7RUFDQSxnQkFBQTtFQUNBLHlCQUFBO0VBQ0EsY0FBQTtBQUhKOztBQU1BO0VBQ0ksZ0JBQUE7RUFDQSxVQUFBO0FBSEoiLCJmaWxlIjoiZ2VuZXJhbC1wb3AtdXAuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuZGlhbG9nIHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICNmMGYwZjA7XHJcbiAgICB3aWR0aDogMzU5cHg7XHJcbiAgICBoZWlnaHQ6IDIzMHB4O1xyXG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcclxufVxyXG4uZGlhbG9nX19oZWFkZXIge1xyXG4gICAgaGVpZ2h0OiA2MXB4O1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcclxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiB9XHJcblxyXG4uZGlhbG9nX19tYWluLWhlYWRlciB7XHJcbiAgICBmb250LWZhbWlseTogc3Nwcm87XHJcbiAgICBmb250LXdlaWdodDogYm9sZDtcclxuICAgIGZvbnQtc2l6ZTogMjFweDtcclxuICAgIGNvbG9yOiAjMDAwMDAwO1xyXG4gICAgcGFkZGluZy1sZWZ0OiA3NXB4O1xyXG4gICAgcGFkZGluZy10b3A6IDE0cHg7XHJcbiAgICBtYXJnaW46IDA7XHJcbiAgICBoZWlnaHQ6IGZpdC1jb250ZW50O1xyXG4gICAgbGluZS1oZWlnaHQ6MTRweDtcclxufVxyXG4uZGlhbG9nX19zdWItaGVhZGVyIHtcclxuICAgIGZvbnQtZmFtaWx5OiBzc3BybztcclxuICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xyXG4gICAgZm9udC1zaXplOiAxMnB4O1xyXG4gICAgY29sb3I6ICMwMDAwMDA7XHJcbiAgICBwYWRkaW5nLWxlZnQ6IDc1cHg7XHJcbiAgICBwYWRkaW5nLXRvcDogNXB4O1xyXG59XHJcbi5kaWFsb2dfX2ljb24ge1xyXG4gICAgYmFja2dyb3VuZDp1cmwoJy4uLy4uLy4uLy4uL2Fzc2V0cy9pY29ucy9pY29uX2Nsb3NlLnBuZycpICBuby1yZXBlYXQgbGVmdCBjZW50ZXI7ICBcclxuICAgIHBhZGRpbmctcmlnaHQ6IDI3cHg7XHJcbiAgICBoZWlnaHQ6IDQwcHg7XHJcbiAgICB3aWR0aDogNDBweDtcclxuICAgIHRyYW5zZm9ybTogc2NhbGUoMC41KTtcclxufVxyXG5cclxuLmRpYWxvZ19fY29udGVudCB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmZmZmO1xyXG4gICAgcGFkZGluZzogMDtcclxuICAgIG1hcmdpbjogMHB4IDBweCAwcHggNHB4O1xyXG4gICAgd2lkdGg6IDM1MXB4O1xyXG4gICAgaGVpZ2h0OiAxMDhweDtcclxufVxyXG4uZGlhbG9nX19jb250cm9sLWxhYmVsIHtcclxuICAgIGZvbnQtZmFtaWx5OiBzc3BybztcclxuICAgIGZvbnQtc2l6ZTogMTJweDtcclxuICAgIHBhZGRpbmctbGVmdDogMjVweDtcclxuICAgIHBhZGRpbmctdG9wOiAyM3B4O1xyXG4gICAgcGFkZGluZy1ib3R0b206IDVweDtcclxufVxyXG5cclxuXHJcblxyXG5cclxuXHJcbi5kaWFsb2dfX2Ryb3Bkb3duIHtcclxuICAgIHBhZGRpbmctbGVmdDogMjVweDtcclxuICAgIHBhZGRpbmctcmlnaHQ6IDI1cHg7XHJcbn1cclxuLmRpYWxvZ19fZHJvcGRvd24tc2VsZWN0IHtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG59XHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcbi5kaWFsb2dfX2J1dHRvbiB7XHJcbiAgICBwYWRkaW5nLXRvcDogMTFweDtcclxuICAgIGJvcmRlcjogc29saWQ7XHJcbiAgICBib3JkZXItY29sb3I6ICMxOGFiZjQ7XHJcbiAgICB3aWR0aDogMTIycHg7XHJcbiAgICBoZWlnaHQ6IDQwcHg7XHJcbiAgICBmb250LWZhbWlseTogc3Nwcm87XHJcbiAgICBmb250LXNpemU6IDE0cHg7XHJcbiAgICBmb250LXdlaWdodDogYm9sZDtcclxufVxyXG5cclxuLmRpYWxvZ19fbGVmdC1idXR0b24ge1xyXG4gICAgbWFyZ2luLWxlZnQ6IDQ5cHg7XHJcbiAgICBwYWRkaW5nOiAwO1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZmZmZjtcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgIHZlcnRpY2FsLWFsaWduOmJhc2VsaW5lO1xyXG4gICAgY29sb3I6ICMxOGFiZjQ7XHJcbn1cclxuXHJcbi5kaWFsb2dfX3JpZ2h0LWJ1dHRvbiB7XHJcbiAgICBwYWRkaW5nOiAwO1xyXG4gICAgbWFyZ2luLWxlZnQ6IDJweDtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICM1MmMwZjc7XHJcbiAgICBjb2xvcjogI2ZmZmZmZjs7XHJcbn1cclxuXHJcbi5kaWFsb2dfX2Zvb3RlciB7XHJcbiAgICBtaW4taGVpZ2h0OiA2MXB4O1xyXG4gICAgcGFkZGluZzogMDtcclxufSJdfQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["UntypedFormControl","MAT_DIALOG_DATA","ReplaySubject","Subject","i0","GeneralPopUpComponent","constructor","dialogRef","data","fb","group","name","ngOnInit","previousValue","currentValue","bankCtrl","setValue","filteredBanks","next","listOfValues","slice","bankFilterCtrl","valueChanges","pipe","subscribe","filterBanks","onNoClick","close","onOkClick","search","value","toLowerCase","filter","test","indexOf","selectors","viewQuery","ctx"],"sourceRoot":"","sources":["D:\\LocalProjects\\Tasks\\interview2\\src\\app\\components\\popups\\general-pop-up\\general-pop-up.component.ts","D:\\LocalProjects\\Tasks\\interview2\\src\\app\\components\\popups\\general-pop-up\\general-pop-up.component.html"],"sourcesContent":["import { Component, Inject, Input, OnInit, ViewChild } from '@angular/core';\nimport { FormBuilder, UntypedFormControl } from '@angular/forms';\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport { MatSelect } from '@angular/material/select';\nimport { ReplaySubject, Subject } from 'rxjs';\n\n@Component({\n  selector: 'app-general-pop-up',\n  templateUrl: './general-pop-up.component.html',\n  styleUrls: ['./general-pop-up.component.scss']\n})\nexport class GeneralPopUpComponent implements OnInit{\n  @Input()\n  public currentValue: string = '';\n  public previousValue: string = '';\n\n  constructor(\n    public dialogRef: MatDialogRef<GeneralPopUpComponent>,\n      @Inject(MAT_DIALOG_DATA) public data: any,\n      public fb: FormBuilder\n  ) {}\n  \n\n\n\n  /** control for the selected bank */\n  public bankCtrl: UntypedFormControl = new UntypedFormControl();\n\n  /** control for the MatSelect filter keyword */\n  public bankFilterCtrl: UntypedFormControl = new UntypedFormControl();\n\n  /** list of banks filtered by search keyword */\n  public filteredBanks: ReplaySubject<string[]> = new ReplaySubject<string[]>(1);\n\n  @ViewChild('singleSelect', { static: true })\n  singleSelect!: MatSelect;\n\n  /** Subject that emits when the component has been destroyed. */\n  protected _onDestroy = new Subject<void>();\n\n\n\n\n  ngOnInit(): void {\n    this.previousValue = this.currentValue;\n     // set initial selection\n     this.bankCtrl.setValue(this.currentValue);\n\n     // load the initial bank list\n     this.filteredBanks.next(this.data.listOfValues.slice());\n \n     // listen for search field value changes\n     this.bankFilterCtrl.valueChanges\n       .pipe()\n       .subscribe(() => {\n         this.filterBanks();\n       });\n  }\n\n  oppoSuitsForm = this.fb.group({\n    name: ['']\n  });\n\n  onNoClick(): void {\n    this.dialogRef.close(this.previousValue);\n  }\n\n  onOkClick(): void {\n    this.dialogRef.close(this.currentValue);\n  }\n  protected filterBanks() {\n    if (!this.data.listOfValues) {\n      return;\n    }\n    // get the search keyword\n    let search = this.bankFilterCtrl.value;\n    if (!search) {\n      this.filteredBanks.next(this.data.listOfValues.slice());\n      return;\n    } else {\n      search = search.toLowerCase();\n    }\n    // filter the banks\n    this.filteredBanks.next(\n      this.data.listOfValues.filter(((test: { name: string; }) => test.name.toLowerCase().indexOf(search) > -1)\n    ));\n  }\n}\n","<div class=\"dialog\">\n    <div class=\"dialog__header\">\n        <div class=\"dialog__column\">\n            <div mat-dialog-title class=\"dialog__main-header\">{{data.mainHeader}}</div>\n            <div class=\"dialog__sub-header\">{{data.dateTimeHeader | date:\"dd/MM/yy\"}}-{{data.dateTimeHeader | date:\"hh:mm\"}}</div>\n        </div>\n        <a (click)=\"onNoClick()\" class=\"dialog__icon dialog__column\"></a>\n    </div>\n    <div mat-dialog-content  class=\"dialog__content\">\n        <div class=\"dialog__control-label\">\n            {{data.controlLabel}}\n        </div>\n        <!-- <div class=\"dialog__dropdown\">\n            <select class=\"dialog__dropdown-select\" name=\"cars\" id=\"cars\" [value]='currentValue'>\n                <option *ngFor=\"let option of data.listOfValues\" value=\"{{option}}\" [selected]=\"option === currentValue\">{{option}}</option>\n            </select>\n        </div> -->\n        <form class=\"dialog__dropdown\" [formGroup]=\"oppoSuitsForm\">\n            <!-- <select class=\"dialog__dropdown-select dropdown\" formControlName=\"name\" [(ngModel)]=\"currentValue\">\n              <option disabled>REGISTRATION (27)</option>\n              <option *ngFor=\"let option of data.listOfValues\" [selected]=\"option === currentValue\"><div class=\"dropdown-divider\">{{option}}</div></option>\n            </select> -->\n            <mat-form-field class=\"dialog__dropdown-select\">\n                <mat-select [formControl]=\"bankCtrl\"  #singleSelect>\n                  <mat-option>\n                    <ngx-mat-select-search [formControl]=\"bankFilterCtrl\"></ngx-mat-select-search>\n                  </mat-option>\n            \n                  <mat-option *ngFor=\"let bank of filteredBanks | async\" [value]=\"bank\">\n                    {{bank}}\n                  </mat-option>\n                </mat-select>\n              </mat-form-field>\n        </form>\n    </div>\n    <div mat-dialog-actions class=\"dialog__footer\">\n        <button mat-button (click)=\"onNoClick()\" class=\"dialog__button dialog__left-button\">{{data.rejectButtonText | uppercase}}</button>\n        <button mat-button (click)=\"onOkClick()\" [disabled]=\"currentValue === previousValue\" cdkFocusInitial class=\"dialog__button  dialog__right-button\">{{data.acceptButtonText | uppercase}}</button>\n    </div>\n</div>"]},"metadata":{},"sourceType":"module"}
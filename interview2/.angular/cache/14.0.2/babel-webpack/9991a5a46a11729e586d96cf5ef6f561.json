{"ast":null,"code":"import { UntypedFormControl } from '@angular/forms';\nimport { MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport { ReplaySubject, Subject } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/material/dialog\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/material/button\";\nimport * as i5 from \"@angular/material/form-field\";\nimport * as i6 from \"@angular/material/select\";\nimport * as i7 from \"@angular/material/core\";\nimport * as i8 from \"ngx-mat-select-search\";\nconst _c0 = [\"singleSelect\"];\n\nfunction GeneralPopUpComponent_mat_option_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-option\", 17);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const option_r2 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", option_r2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", option_r2, \" \");\n  }\n}\n\nexport class GeneralPopUpComponent {\n  constructor(dialogRef, data, fb) {\n    this.dialogRef = dialogRef;\n    this.data = data;\n    this.fb = fb;\n    this.currentValue = '';\n    this.previousValue = '';\n    this.optionsCtrl = new UntypedFormControl();\n    this.optionFilterCtrl = new UntypedFormControl();\n    this.filteredOptions = new ReplaySubject(1);\n    this.mainForm = this.fb.group({\n      name: ['']\n    });\n    this._onDestroy = new Subject();\n  }\n\n  ngOnInit() {\n    this.previousValue = this.currentValue;\n    this.optionsCtrl.setValue(this.currentValue);\n    this.filteredOptions.next(this.data.listOfValues.slice());\n    this.optionFilterCtrl.valueChanges.pipe().subscribe(() => {\n      this.filterBanks();\n    });\n    this.optionsCtrl.valueChanges.pipe().subscribe(newValue => {\n      this.currentValue = newValue;\n    });\n  }\n\n  onNoClick() {\n    this.dialogRef.close(this.previousValue);\n  }\n\n  onOkClick() {\n    this.dialogRef.close(this.currentValue);\n  }\n\n  filterBanks() {\n    if (!this.data.listOfValues) {\n      return;\n    }\n\n    let search = this.optionFilterCtrl.value;\n\n    if (!search) {\n      this.filteredOptions.next(this.data.listOfValues.slice());\n      return;\n    }\n\n    this.filteredOptions.next(this.data.listOfValues.filter(option => option.indexOf(search) > -1));\n  }\n\n}\n\nGeneralPopUpComponent.ɵfac = function GeneralPopUpComponent_Factory(t) {\n  return new (t || GeneralPopUpComponent)(i0.ɵɵdirectiveInject(i1.MatDialogRef), i0.ɵɵdirectiveInject(MAT_DIALOG_DATA), i0.ɵɵdirectiveInject(i2.FormBuilder));\n};\n\nGeneralPopUpComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: GeneralPopUpComponent,\n  selectors: [[\"app-general-pop-up\"]],\n  viewQuery: function GeneralPopUpComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c0, 7);\n    }\n\n    if (rf & 2) {\n      let _t;\n\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.singleSelect = _t.first);\n    }\n  },\n  inputs: {\n    currentValue: \"currentValue\"\n  },\n  decls: 28,\n  vars: 23,\n  consts: [[1, \"dialog\"], [1, \"dialog__header\"], [1, \"dialog__column\"], [\"mat-dialog-title\", \"\", 1, \"dialog__main-header\"], [1, \"dialog__sub-header\"], [1, \"dialog__icon\", \"dialog__column\", 3, \"click\"], [\"mat-dialog-content\", \"\", 1, \"dialog__content\"], [1, \"dialog__control-label\"], [1, \"dialog__dropdown\", 3, \"formGroup\"], [1, \"dialog__dropdown-select\"], [3, \"formControl\"], [\"singleSelect\", \"\"], [\"placeholderLabel\", \"Find registration...\", \"noEntriesFoundLabel\", \"No registration found...\", \"closeIcon\", \"X\", 3, \"formControl\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"mat-dialog-actions\", \"\", 1, \"dialog__footer\"], [\"mat-button\", \"\", 1, \"dialog__button\", \"dialog__left-button\", 3, \"click\"], [\"mat-button\", \"\", \"cdkFocusInitial\", \"\", 1, \"dialog__button\", \"dialog__right-button\", 3, \"disabled\", \"click\"], [3, \"value\"]],\n  template: function GeneralPopUpComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3);\n      i0.ɵɵtext(4);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"div\", 4);\n      i0.ɵɵtext(6);\n      i0.ɵɵpipe(7, \"date\");\n      i0.ɵɵpipe(8, \"date\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(9, \"a\", 5);\n      i0.ɵɵlistener(\"click\", function GeneralPopUpComponent_Template_a_click_9_listener() {\n        return ctx.onNoClick();\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(10, \"div\", 6)(11, \"div\", 7);\n      i0.ɵɵtext(12);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"form\", 8)(14, \"mat-form-field\", 9)(15, \"mat-select\", 10, 11)(17, \"mat-option\");\n      i0.ɵɵelement(18, \"ngx-mat-select-search\", 12);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(19, GeneralPopUpComponent_mat_option_19_Template, 2, 2, \"mat-option\", 13);\n      i0.ɵɵpipe(20, \"async\");\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelementStart(21, \"div\", 14)(22, \"button\", 15);\n      i0.ɵɵlistener(\"click\", function GeneralPopUpComponent_Template_button_click_22_listener() {\n        return ctx.onNoClick();\n      });\n      i0.ɵɵtext(23);\n      i0.ɵɵpipe(24, \"uppercase\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(25, \"button\", 16);\n      i0.ɵɵlistener(\"click\", function GeneralPopUpComponent_Template_button_click_25_listener() {\n        return ctx.onOkClick();\n      });\n      i0.ɵɵtext(26);\n      i0.ɵɵpipe(27, \"uppercase\");\n      i0.ɵɵelementEnd()()();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(4);\n      i0.ɵɵtextInterpolate1(\" \", ctx.data.mainHeader, \" \");\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate2(\" \", i0.ɵɵpipeBind2(7, 11, ctx.data.dateTimeHeader, \"dd/MM/yy\"), \"-\", i0.ɵɵpipeBind2(8, 14, ctx.data.dateTimeHeader, \"hh:mm\"), \" \");\n      i0.ɵɵadvance(6);\n      i0.ɵɵtextInterpolate1(\" \", ctx.data.controlLabel, \" \");\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"formGroup\", ctx.mainForm);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"formControl\", ctx.optionsCtrl);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"formControl\", ctx.optionFilterCtrl);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(20, 17, ctx.filteredOptions));\n      i0.ɵɵadvance(4);\n      i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(24, 19, ctx.data.rejectButtonText), \" \");\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"disabled\", ctx.currentValue === ctx.previousValue);\n      i0.ɵɵadvance(1);\n      i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(27, 21, ctx.data.acceptButtonText), \" \");\n    }\n  },\n  dependencies: [i3.NgForOf, i1.MatDialogTitle, i1.MatDialogContent, i1.MatDialogActions, i4.MatButton, i2.ɵNgNoValidate, i2.NgControlStatus, i2.NgControlStatusGroup, i2.FormControlDirective, i2.FormGroupDirective, i5.MatFormField, i6.MatSelect, i7.MatOption, i8.MatSelectSearchComponent, i3.AsyncPipe, i3.UpperCasePipe, i3.DatePipe],\n  styles: [\".dialog[_ngcontent-%COMP%] {\\n  background-color: #f0f0f0;\\n  width: 359px;\\n  height: 230px;\\n  overflow: hidden;\\n}\\n\\n.dialog__header[_ngcontent-%COMP%] {\\n  height: 61px;\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: center;\\n}\\n\\n.dialog__main-header[_ngcontent-%COMP%] {\\n  font-family: sspro;\\n  font-weight: bold;\\n  font-size: 21px;\\n  color: #000000;\\n  padding-left: 75px;\\n  padding-top: 14px;\\n  margin: 0;\\n  height: -moz-fit-content;\\n  height: fit-content;\\n  line-height: 14px;\\n}\\n\\n.dialog__sub-header[_ngcontent-%COMP%] {\\n  font-family: sspro;\\n  font-weight: bold;\\n  font-size: 12px;\\n  color: #000000;\\n  padding-left: 75px;\\n  padding-top: 5px;\\n}\\n\\n.dialog__icon[_ngcontent-%COMP%] {\\n  background: url('icon_close.png') no-repeat left center;\\n  padding-right: 27px;\\n  height: 40px;\\n  width: 40px;\\n  transform: scale(0.5);\\n}\\n\\n.dialog__content[_ngcontent-%COMP%] {\\n  background-color: #ffffff;\\n  padding: 0;\\n  margin: 0px 0px 0px 4px;\\n  width: 351px;\\n  height: 108px;\\n}\\n\\n.dialog__control-label[_ngcontent-%COMP%] {\\n  font-family: sspro;\\n  font-size: 12px;\\n  padding-left: 25px;\\n  padding-top: 23px;\\n  padding-bottom: 5px;\\n}\\n\\n.dialog__dropdown[_ngcontent-%COMP%] {\\n  padding-left: 25px;\\n  padding-right: 25px;\\n}\\n\\n.dialog__dropdown-select[_ngcontent-%COMP%] {\\n  width: 100%;\\n  padding: 0;\\n  border: 0;\\n}\\n\\n.dialog__button[_ngcontent-%COMP%] {\\n  padding-top: 11px;\\n  border: solid;\\n  border-color: #18abf4;\\n  width: 122px;\\n  height: 40px;\\n  font-family: sspro;\\n  font-size: 14px;\\n  font-weight: bold;\\n}\\n\\n.dialog__left-button[_ngcontent-%COMP%] {\\n  margin-left: 49px;\\n  padding: 0;\\n  background-color: #ffffff;\\n  text-align: center;\\n  vertical-align: baseline;\\n  color: #18abf4;\\n}\\n\\n.dialog__right-button[_ngcontent-%COMP%] {\\n  padding: 0;\\n  margin-left: 2px;\\n  background-color: #52c0f7;\\n  color: #ffffff;\\n}\\n\\n.dialog__footer[_ngcontent-%COMP%] {\\n  min-height: 61px;\\n  padding: 0;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImdlbmVyYWwtcG9wLXVwLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UseUJBQUE7RUFDQSxZQUFBO0VBQ0EsYUFBQTtFQUNBLGdCQUFBO0FBQ0Y7O0FBQ0E7RUFDRSxZQUFBO0VBQ0EsYUFBQTtFQUNBLDhCQUFBO0VBQ0EsbUJBQUE7QUFFRjs7QUFBQTtFQUNFLGtCQUFBO0VBQ0EsaUJBQUE7RUFDQSxlQUFBO0VBQ0EsY0FBQTtFQUNBLGtCQUFBO0VBQ0EsaUJBQUE7RUFDQSxTQUFBO0VBQ0Esd0JBQUE7RUFBQSxtQkFBQTtFQUNBLGlCQUFBO0FBR0Y7O0FBREE7RUFDRSxrQkFBQTtFQUNBLGlCQUFBO0VBQ0EsZUFBQTtFQUNBLGNBQUE7RUFDQSxrQkFBQTtFQUNBLGdCQUFBO0FBSUY7O0FBRkE7RUFDRSx1REFBQTtFQUVBLG1CQUFBO0VBQ0EsWUFBQTtFQUNBLFdBQUE7RUFDQSxxQkFBQTtBQUlGOztBQUZBO0VBQ0UseUJBQUE7RUFDQSxVQUFBO0VBQ0EsdUJBQUE7RUFDQSxZQUFBO0VBQ0EsYUFBQTtBQUtGOztBQUhBO0VBQ0Usa0JBQUE7RUFDQSxlQUFBO0VBQ0Esa0JBQUE7RUFDQSxpQkFBQTtFQUNBLG1CQUFBO0FBTUY7O0FBSkE7RUFDRSxrQkFBQTtFQUNBLG1CQUFBO0FBT0Y7O0FBTEE7RUFDRSxXQUFBO0VBQ0EsVUFBQTtFQUNBLFNBQUE7QUFRRjs7QUFOQTtFQUNFLGlCQUFBO0VBQ0EsYUFBQTtFQUNBLHFCQUFBO0VBQ0EsWUFBQTtFQUNBLFlBQUE7RUFDQSxrQkFBQTtFQUNBLGVBQUE7RUFDQSxpQkFBQTtBQVNGOztBQVBBO0VBQ0UsaUJBQUE7RUFDQSxVQUFBO0VBQ0EseUJBQUE7RUFDQSxrQkFBQTtFQUNBLHdCQUFBO0VBQ0EsY0FBQTtBQVVGOztBQVJBO0VBQ0UsVUFBQTtFQUNBLGdCQUFBO0VBQ0EseUJBQUE7RUFDQSxjQUFBO0FBV0Y7O0FBVEE7RUFDRSxnQkFBQTtFQUNBLFVBQUE7QUFZRiIsImZpbGUiOiJnZW5lcmFsLXBvcC11cC5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5kaWFsb2cge1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICNmMGYwZjA7XHJcbiAgd2lkdGg6IDM1OXB4O1xyXG4gIGhlaWdodDogMjMwcHg7XHJcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcclxufVxyXG4uZGlhbG9nX19oZWFkZXIge1xyXG4gIGhlaWdodDogNjFweDtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcclxuICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG59XHJcbi5kaWFsb2dfX21haW4taGVhZGVyIHtcclxuICBmb250LWZhbWlseTogc3Nwcm87XHJcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XHJcbiAgZm9udC1zaXplOiAyMXB4O1xyXG4gIGNvbG9yOiAjMDAwMDAwO1xyXG4gIHBhZGRpbmctbGVmdDogNzVweDtcclxuICBwYWRkaW5nLXRvcDogMTRweDtcclxuICBtYXJnaW46IDA7XHJcbiAgaGVpZ2h0OiBmaXQtY29udGVudDtcclxuICBsaW5lLWhlaWdodDogMTRweDtcclxufVxyXG4uZGlhbG9nX19zdWItaGVhZGVyIHtcclxuICBmb250LWZhbWlseTogc3Nwcm87XHJcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XHJcbiAgZm9udC1zaXplOiAxMnB4O1xyXG4gIGNvbG9yOiAjMDAwMDAwO1xyXG4gIHBhZGRpbmctbGVmdDogNzVweDtcclxuICBwYWRkaW5nLXRvcDogNXB4O1xyXG59XHJcbi5kaWFsb2dfX2ljb24ge1xyXG4gIGJhY2tncm91bmQ6IHVybChcIi4uLy4uLy4uLy4uL2Fzc2V0cy9pY29ucy9pY29uX2Nsb3NlLnBuZ1wiKSBuby1yZXBlYXQgbGVmdFxyXG4gICAgY2VudGVyO1xyXG4gIHBhZGRpbmctcmlnaHQ6IDI3cHg7XHJcbiAgaGVpZ2h0OiA0MHB4O1xyXG4gIHdpZHRoOiA0MHB4O1xyXG4gIHRyYW5zZm9ybTogc2NhbGUoMC41KTtcclxufVxyXG4uZGlhbG9nX19jb250ZW50IHtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmZmZmO1xyXG4gIHBhZGRpbmc6IDA7XHJcbiAgbWFyZ2luOiAwcHggMHB4IDBweCA0cHg7XHJcbiAgd2lkdGg6IDM1MXB4O1xyXG4gIGhlaWdodDogMTA4cHg7XHJcbn1cclxuLmRpYWxvZ19fY29udHJvbC1sYWJlbCB7XHJcbiAgZm9udC1mYW1pbHk6IHNzcHJvO1xyXG4gIGZvbnQtc2l6ZTogMTJweDtcclxuICBwYWRkaW5nLWxlZnQ6IDI1cHg7XHJcbiAgcGFkZGluZy10b3A6IDIzcHg7XHJcbiAgcGFkZGluZy1ib3R0b206IDVweDtcclxufVxyXG4uZGlhbG9nX19kcm9wZG93biB7XHJcbiAgcGFkZGluZy1sZWZ0OiAyNXB4O1xyXG4gIHBhZGRpbmctcmlnaHQ6IDI1cHg7XHJcbn1cclxuLmRpYWxvZ19fZHJvcGRvd24tc2VsZWN0IHtcclxuICB3aWR0aDogMTAwJTtcclxuICBwYWRkaW5nOiAwO1xyXG4gIGJvcmRlcjogMDtcclxufVxyXG4uZGlhbG9nX19idXR0b24ge1xyXG4gIHBhZGRpbmctdG9wOiAxMXB4O1xyXG4gIGJvcmRlcjogc29saWQ7XHJcbiAgYm9yZGVyLWNvbG9yOiAjMThhYmY0O1xyXG4gIHdpZHRoOiAxMjJweDtcclxuICBoZWlnaHQ6IDQwcHg7XHJcbiAgZm9udC1mYW1pbHk6IHNzcHJvO1xyXG4gIGZvbnQtc2l6ZTogMTRweDtcclxuICBmb250LXdlaWdodDogYm9sZDtcclxufVxyXG4uZGlhbG9nX19sZWZ0LWJ1dHRvbiB7XHJcbiAgbWFyZ2luLWxlZnQ6IDQ5cHg7XHJcbiAgcGFkZGluZzogMDtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmZmZmO1xyXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICB2ZXJ0aWNhbC1hbGlnbjogYmFzZWxpbmU7XHJcbiAgY29sb3I6ICMxOGFiZjQ7XHJcbn1cclxuLmRpYWxvZ19fcmlnaHQtYnV0dG9uIHtcclxuICBwYWRkaW5nOiAwO1xyXG4gIG1hcmdpbi1sZWZ0OiAycHg7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogIzUyYzBmNztcclxuICBjb2xvcjogI2ZmZmZmZjtcclxufVxyXG4uZGlhbG9nX19mb290ZXIge1xyXG4gIG1pbi1oZWlnaHQ6IDYxcHg7XHJcbiAgcGFkZGluZzogMDtcclxufVxyXG4iXX0= */\"]\n});","map":{"version":3,"mappings":"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","names":["UntypedFormControl","MAT_DIALOG_DATA","ReplaySubject","Subject","i0","GeneralPopUpComponent","constructor","dialogRef","data","fb","group","name","ngOnInit","previousValue","currentValue","optionsCtrl","setValue","filteredOptions","next","listOfValues","slice","optionFilterCtrl","valueChanges","pipe","subscribe","filterBanks","newValue","onNoClick","close","onOkClick","search","value","filter","option","indexOf","selectors","viewQuery","ctx"],"sourceRoot":"","sources":["D:\\LocalProjects\\Tasks\\interview2\\src\\app\\components\\popups\\general-pop-up\\general-pop-up.component.ts","D:\\LocalProjects\\Tasks\\interview2\\src\\app\\components\\popups\\general-pop-up\\general-pop-up.component.html"],"sourcesContent":["import {\n  Component,\n  Inject,\n  Input,\n  OnChanges,\n  OnInit,\n  SimpleChanges,\n  ViewChild,\n} from '@angular/core';\nimport { FormBuilder, UntypedFormControl } from '@angular/forms';\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport { MatSelect } from '@angular/material/select';\nimport { ReplaySubject, Subject } from 'rxjs';\n\n@Component({\n  selector: 'app-general-pop-up',\n  templateUrl: './general-pop-up.component.html',\n  styleUrls: ['./general-pop-up.component.scss'],\n})\nexport class GeneralPopUpComponent implements OnInit {\n  @Input()\n  public currentValue: string = '';\n  public previousValue: string = '';\n  public optionsCtrl: UntypedFormControl = new UntypedFormControl();\n  public optionFilterCtrl: UntypedFormControl = new UntypedFormControl();\n  public filteredOptions: ReplaySubject<string[]> = new ReplaySubject<string[]>(\n    1\n  );\n  public mainForm = this.fb.group({ name: [''] });\n  protected _onDestroy = new Subject<void>();\n\n  @ViewChild('singleSelect', { static: true })\n  singleSelect!: MatSelect;\n\n  constructor(\n    public dialogRef: MatDialogRef<GeneralPopUpComponent>,\n    @Inject(MAT_DIALOG_DATA) public data: any,\n    public fb: FormBuilder\n  ) {}\n\n  ngOnInit(): void {\n    this.previousValue = this.currentValue;\n    this.optionsCtrl.setValue(this.currentValue);\n    this.filteredOptions.next(this.data.listOfValues.slice());\n    this.optionFilterCtrl.valueChanges.pipe().subscribe(() => {\n      this.filterBanks();\n    });\n    this.optionsCtrl.valueChanges.pipe().subscribe((newValue) => {\n      this.currentValue = newValue;\n    });\n  }\n\n  onNoClick(): void {\n    this.dialogRef.close(this.previousValue);\n  }\n\n  onOkClick(): void {\n    this.dialogRef.close(this.currentValue);\n  }\n\n  protected filterBanks() {\n    if (!this.data.listOfValues) {\n      return;\n    }\n    let search = this.optionFilterCtrl.value;\n    if (!search) {\n      this.filteredOptions.next(this.data.listOfValues.slice());\n      return;\n    }\n    this.filteredOptions.next(\n      this.data.listOfValues.filter(\n        (option: string) => option.indexOf(search) > -1\n      )\n    );\n  }\n}\n","<div class=\"dialog\">\n  <div class=\"dialog__header\">\n    <div class=\"dialog__column\">\n      <div mat-dialog-title class=\"dialog__main-header\">\n        {{ data.mainHeader }}\n      </div>\n      <div class=\"dialog__sub-header\">\n        {{ data.dateTimeHeader | date: \"dd/MM/yy\" }}-{{\n          data.dateTimeHeader | date: \"hh:mm\"\n        }}\n      </div>\n    </div>\n    <a (click)=\"onNoClick()\" class=\"dialog__icon dialog__column\"></a>\n  </div>\n  <div mat-dialog-content class=\"dialog__content\">\n    <div class=\"dialog__control-label\">\n      {{ data.controlLabel }}\n    </div>\n    <form class=\"dialog__dropdown\" [formGroup]=\"mainForm\">\n      <mat-form-field class=\"dialog__dropdown-select\">\n        <mat-select [formControl]=\"optionsCtrl\" #singleSelect>\n          <mat-option>\n            <ngx-mat-select-search\n              [formControl]=\"optionFilterCtrl\"\n              placeholderLabel=\"Find registration...\"\n              noEntriesFoundLabel=\"No registration found...\"\n              closeIcon=\"X\"\n            ></ngx-mat-select-search>\n          </mat-option>\n          <mat-option\n            *ngFor=\"let option of filteredOptions | async\"\n            [value]=\"option\"\n          >\n            {{ option }}\n          </mat-option>\n        </mat-select>\n      </mat-form-field>\n    </form>\n  </div>\n  <div mat-dialog-actions class=\"dialog__footer\">\n    <button\n      mat-button\n      (click)=\"onNoClick()\"\n      class=\"dialog__button dialog__left-button\"\n    >\n      {{ data.rejectButtonText | uppercase }}\n    </button>\n    <button\n      mat-button\n      (click)=\"onOkClick()\"\n      [disabled]=\"currentValue === previousValue\"\n      cdkFocusInitial\n      class=\"dialog__button dialog__right-button\"\n    >\n      {{ data.acceptButtonText | uppercase }}\n    </button>\n  </div>\n</div>\n"]},"metadata":{},"sourceType":"module"}